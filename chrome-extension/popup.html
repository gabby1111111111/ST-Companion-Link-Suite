<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Companion-Link</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <!-- 头部 -->
  <header class="header">
    <div class="header-title">
      <span class="logo">🔗</span>
      <h1>Companion-Link</h1>
    </div>
    <span class="version" id="version">v0.1.0</span>
  </header>

  <!-- 连接状态 -->
  <section class="status-card" id="statusCard">
    <div class="status-row">
      <span class="status-dot" id="statusDot"></span>
      <span class="status-text" id="statusText">检查中...</span>
    </div>
    <div class="status-detail" id="statusDetail"></div>
  </section>

  <!-- 全局开关 -->
  <section class="setting-row">
    <label for="enableToggle">启用监听</label>
    <label class="switch">
      <input type="checkbox" id="enableToggle" checked>
      <span class="slider"></span>
    </label>
  </section>

  <!-- 后端地址配置 -->
  <section class="setting-group">
    <label class="setting-label" for="backendUrl">后端 API 地址</label>
    <div class="input-row">
      <input
        type="text"
        id="backendUrl"
        placeholder="http://localhost:8765"
        spellcheck="false"
      >
      <button class="btn btn-primary" id="saveBtn">保存</button>
    </div>
  </section>

  <!-- 高级设置 -->
  <details class="advanced">
    <summary>高级设置</summary>
    <div class="advanced-content">
      <div class="setting-inline">
        <label for="debounceMs">防抖间隔 (ms)</label>
        <input type="number" id="debounceMs" value="1500" min="500" max="10000" step="100">
      </div>
      <div class="setting-inline">
        <label for="readThreshold">阅读阈值 (秒)</label>
        <input type="number" id="readThreshold" value="5" min="1" max="60" step="1">
      </div>
    </div>
  </details>

  <!-- 操作按钮 -->
  <section class="actions">
    <button class="btn btn-outline" id="testBtn">🔍 测试连接</button>
  </section>

  <!-- 提示条 -->
  <div class="toast" id="toast"></div>

  <script src="popup.js"></script>
</body>
</html>
